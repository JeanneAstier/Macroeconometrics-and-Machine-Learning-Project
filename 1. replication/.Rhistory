install.packages("forecast")
library(rsdmx)
library(rsdmx)
install.packages("rsdmx")
library(rsdmx)
library(zoo)
library(stringr)
library("writexl")
install.packages("writexl")
library(rsdmx)
library(zoo)
library(stringr)
library("writexl")
request_ocde = function(code, param){
url_ocde = "http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/"
url_data_ocde <- paste(url_ocde, code, sep='')
url_data_ocde <- paste(url_data_ocde, param, sep='')
data_ocde_sdmx <- readSDMX(url_data_ocde)
data_ocde <- as.data.frame(data_ocde_sdmx)
return(data_ocde)
}
http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/QNA/FRA.B1_GE.CQR.Q
http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/QNA/FRA.B1_GE.CQR.Q
library(devtools)
install.packages("devtools")
install_github("cykbennie/fbi")
library(devtools)
install.packages("devtools")
library(devtools)
install.packages("devtools")
library(devtools)
install.packages("devtools")
library(devtools)
library(devtools)
install.packages("devtools")
install.packages("devtools")
library(devtools)
install.packages("usethis")
install.packages("usethis")
install.packages("devtools")
install.packages("devtools", dependencies = TRUE)
library(devtools)
install.packages("devtools")
install.packages("remote")
devtools::install_github(repo = "r-lib/devtools",
dependencies = TRUE,
upgrade = TRUE)
install_github(repo = "r-lib/devtools",
dependencies = TRUE,
upgrade = TRUE)
install.packages("devtools", dependencies = TRUE)
library(devtools)
install.packages("devtools")
library(devtools)
install_github("cykbennie/fbi")
library(devtools)
install_github("cykbennie/fbi")
install.packages("Rtools", dependencies = TRUE)
install_github("cykbennie/fbi")
install.packages("Rtools")
library(devtools)
install_github("cykbennie/fbi")
install_github("cykbennie/fbi", force = TRUE)
library(fbi)
library(tidyverse)
library(TTR)
start_date = "1960-01-01"
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/current.csv")
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv")
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv",
transform = FALSE)
varlist = fredmd_description
View(varlist)
vars = intersect(colnames(data),varlist$fred)
data = data %>% as.tibble()%>%
select(all_of(c("date",vars)))
varlist = varlist%>%filter(fred%in%vars)
prices_varlist = varlist%>%filter(group=="Prices",tcode==6)
View(prices_varlist)
View(prices_varlist)
View(data)
View(data)
View(data_raw)
View(data)
View(data_raw)
View(data_raw)
View(data)
data = data%>% as_tibble()%>%
select( -all_of(prices_varlist$fred) )
prices = data_raw %>% as_tibble() %>%
select(all_of(prices_varlist$fred))%>%
mutate_all(.funs = function(x)100*c(NA,x%>%log()%>%diff()))
View(data)
library(devtools)
install_github("cykbennie/fbi", force = TRUE)
# other libraries
library(fbi)
library(tidyverse)
library(TTR)
start_date = "1960-01-01"
# the 'fredmd' function by defaults transform the data to stationnarize it (first difference, second difference, log, first or second difference of log, first difference of percent point).
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv")
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv",
transform = FALSE)
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
data = data %>% as_tibble()%>%
select(all_of(c("date",vars)))
varlist = varlist%>%filter(fred%in%vars)
prices_varlist = varlist%>%filter(group=="Prices",tcode==6)
start_date = "1960-01-01"
# 1. loading raw data from FRED-MD
# the 'fredmd' function by defaults transform the data to stationnarize it (first difference, second difference, log, first or second difference of log, first difference of percent point).
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv")
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv",
transform = FALSE)
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
data = data %>% as_tibble()%>%
select(all_of(c("date",vars)))
View(data)
start_date = "1960-01-01"
# 1. loading raw data from FRED-MD
# the 'fredmd' function by defaults transform the data to stationnarize it (first difference, second difference, log, first or second difference of log, first difference of percent point).
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv", date_start = start_date)
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv", transform = FALSE, date_start = start_date)
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv", date_start = as.Date(start_date))
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-01.csv", transform = FALSE, date_start = as.Date(start_date))
View(data)
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", date_start = as.Date(start_date))
View(data)
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", transform = FALSE, date_start = as.Date(start_date))
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
View(varlist)
View(varlist)
start_date = "1960-01-01"
# 1. loading raw data from FRED-MD
# the 'fredmd' function by defaults transform the data to stationnarize it (first difference, second difference, log, first or second difference of log, first difference of percent point).
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", date_start = as.Date(start_date))
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", transform = FALSE, date_start = as.Date(start_date))
# meta-data about the variables
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
View(data)
View(data)
data = data %>% as_tibble()%>%
select(all_of(c("date",vars)))
View(data)
View(data)
View(varlist)
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", date_start = as.Date(start_date))
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", transform = FALSE, date_start = as.Date(start_date))
# meta-data about the variables
varlist = fredmd_description
View(varlist)
test = varlist$fred
test = colnames(data)
vars = intersect(colnames(data),varlist$fred)
data = data %>% as_tibble()%>%
select(all_of(c("date",vars)))
varlist = varlist%>%filter(fred%in%vars)
prices_varlist = varlist%>%filter(group=="Prices",tcode==6)
data = data%>% as_tibble()%>%
select( -all_of(prices_varlist$fred) )
prices = data_raw %>% as_tibble() %>%
select(all_of(prices_varlist$fred))%>%
mutate_all(.funs = function(x)100*c(NA,x%>%log()%>%diff()))
data = cbind(data%>%as.data.frame(),prices%>%as.data.frame())
data = data %>%
filter(date>=start_date)%>%
select_if(~ !any(is.na(.)))
start_date = "1960-01-01"
# 1. loading raw data from FRED-MD
# the 'fredmd' function by defaults transform the data to stationnarize it (first difference, second difference, log, first or second difference of log, first difference of percent point).
data = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv")
# download of data without transformation
data_raw = fredmd("https://files.stlouisfed.org/files/htdocs/fred-md/monthly/2016-02.csv", transform = FALSE)
# meta-data about the FRED variables
varlist = fredmd_description
vars = intersect(colnames(data),varlist$fred)
# 2. data cleaning
# keep only variables for which we have meta-data
data = data %>% as_tibble()%>%
select(all_of(c("date",vars)))
varlist = varlist%>%filter(fred%in%vars)
# additional transformation for price variables : simple differenciation of logs (= inflation)
prices_varlist = varlist%>%filter(group=="Prices",tcode==6)
data = data%>% as_tibble()%>%
select( -all_of(prices_varlist$fred) )
prices = data_raw %>% as_tibble() %>%
select(all_of(prices_varlist$fred))%>%
mutate_all(.funs = function(x)100*c(NA,x%>%log()%>%diff()))
data = cbind(data%>%as.data.frame(),prices%>%as.data.frame())
# we keep only variables with all observations in the sample period
data = data %>%
filter(date>=start_date)%>%
select_if(~ !any(is.na(.)))
save(data,file = "data/data.rda")
save(data,file = "data/data.rda")
?save
save(data,file = "data.rda")
getwd("C:\Users\jeann\OneDrive\Documents\scolaire\ENSAE\3A\S1\macroeconometrics and ML\project\Macroeconometrics-and-Machine-Learning-Project")
setwd(dirname(rstudioapi::getSourceEditorContext()$path))
save(data,file = "/data/data.rda")
save(data,file = "data/data.rda")
